<!--
 * This file is a part of the I2B2 i3b3Plugin
 * Copyright (C) 2015  Tim Kennell Jr. and James Cimino, MD
 * i3b3 integrates infobuttons into i2b2 through a plugin
 * 
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, see <http://www.gnu.org/licenses/>.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.td">
<html>
  <head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  </head>
  <body>
    <div id="i3b3-div">

      <!-- Tabs for Navigation -->
      <div id="i3b3-TABS" class="yui-navset">
        <ul class="yui-nav">
          <li id="i3b3-TAB0" class="selected"><a href="#i3b3-TAB0"><em>Plugin</em></a></li>
          <li id="i3b3-TAB1"><a href="#i3b3-TAB1"><em>Help</em></a></li>
        </ul>

        <!-- Tab Content -->
        <div id="i3b3-CONTENT" class="yui-content">
          <!-- First Tab Content -->
          <div>
            <div class="i3b3-MainContent">
              <div class="i3b3-MainContentPad">

                <!-- Data Input Section -->
                <div class="data-submission">
                  <!-- Instructions and user input -->
                  <div>
                    Select the type of information desired for each patient and then drop a patient set into the box.  Then click on one of the links to learn more about that concept with respect to the patient.
                  </div>

                  <form class="default-concepts"></form>

                  <div id="concept-drop-group" class="group" style="display: none;">
                    <div class="concept-drop-label">Concept:</div>
                    <div id="concept-drop" class="concept-drop-ui">Drop Here</div>
                  </div>

                  <div id="patient-set-drop-group" class="group">
                    <div class="patient-set-drop-label">Patient Set:</div>
                    <div id="patient-set-drop" class="patient-set-drop-ui">Drop Here</div>
                  </div>
                </div>

                <hr />

                <!-- Results section -->
                <div class="results-section">
                  <div class="results-error" style="display: none;"></div>
                  <div class="results-retrieving-patient-list" style="display: none;">
                    System processing... Please stand by...
                  </div>
                  <div class="results-retrieving-patient-concepts" style="display: none;">
                    System processing really hard... Please be sure to stand by...
                  </div>
                  <div id="patient-list" class="results-finished" style="display: none;"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Second Tab Content -->
          <div>
            <div class="i3b3-HelpContent">
              <div class="i3b3-HelpContentPad">
                <h1>Plugin Function</h1>
                <p>This plugin is built to retrieve additional information about patient sets by allowing one to send context-specific information to Openi3b3 about concepts related to each patient.</p>

                <h1>Choosing a Concept</h1>
                <p>Choosing a concept can be done in 1 of 2 ways:</p>
                <ol>
                  <li>Choose one of the default high level concepts.  This will result in all items related to that concepts being returned for each patient.  For example, choosing "Medications" will cause all medicaitons for each patient to be returned.</li>
                  <li>Select "Choose my own."  This will open a place to drop a custom concept for querying.  Note that it is better to choose lower level concepts in this case such as "Acute Rheumatic Fever" rather than "Circulatory system".</li>
                </ol>

                <h1>Finishing the Query with a Patient Set</h1>
                <p>In order to finish the query, simply drop a patient set into the appropriate location.  This will query information about the selected concept with respect to the patient set chosen.</p>

                <h1>Querying Openi3b3</h1>
                <p>Once the content from the query is returned, a link may be selected to query Openi3b3 with the information.  The patient's demographic information (age and sex) along with the selected concept (a medication or a diagnosis) will be sent to Openi3b3 for processing and a window filled with information about the chosen concept with respect to the patient demographic information will be returned.</p>
                <p>If a high-level concept is chosen from the radiobutton list, then the concepts associated with each patient will be shown below; however, if a concept is chosen, then the patients in the list will become hyperlinks that, when clicked, will send the selected concept and the patient demographic information to Openi3b3.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>